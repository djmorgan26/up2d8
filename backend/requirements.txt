# Web Framework
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic>=2.7.4,<3.0.0  # Upgraded for langchain-core 0.3.21 Python 3.12 requirement
pydantic-settings>=2.3.0  # Upgraded to be compatible with pydantic 2.7.4+
email-validator==2.2.0  # Required for EmailStr validation

# Database - MongoDB
pymongo==4.6.1  # MongoDB driver for Cosmos DB MongoDB API
motor==3.3.2  # Async MongoDB driver (optional, for async operations)

# Task Queue
celery==5.3.4
# Note: celery-beat is included in celery, no separate package needed
# Note: Celery can use MongoDB as broker: celery[mongodb]

# AI/ML - Development (Free/Local)
numpy<2.0.0,>=1.24.0  # ChromaDB requires numpy < 2.0
huggingface-hub==0.20.0  # Required for sentence-transformers
sentence-transformers==2.2.2  # Local embeddings - FREE
transformers==4.35.2  # For local LLM inference
torch==2.6.0  # PyTorch for models (updated for Python 3.13)
chromadb==0.4.18  # Local vector DB - FREE
ollama==0.1.6  # Ollama Python client - FREE

# AI/ML - Production (Paid, optional for dev)
anthropic==0.7.7  # Claude API
openai==1.3.7  # OpenAI API
pinecone-client==2.2.4  # Pinecone vector DB

# LLM Provider Abstraction - LangGraph for conversational AI
langgraph==0.2.50  # State-based agent orchestration (includes langchain-core) - updated for Python 3.12 compatibility
langchain-core==0.3.21  # Explicitly pin compatible langchain-core
langsmith>=0.1.147  # Use newer version with Python 3.12 fixes

# Azure Services (for cloud deployment - optional for local dev)
azure-functions==1.18.0  # Azure Functions runtime
azure-cosmos==4.5.1  # Cosmos DB SDK (MongoDB API)
azure-storage-blob==12.19.0  # Blob storage for ChromaDB persistence
# durable-functions==1.2.4  # Not available on PyPI - install manually if needed

# Free LLM Provider (replaces Ollama in cloud)
groq==0.4.1  # Groq API - FREE tier (14,400 req/day)

# HTTP & Web Scraping
httpx==0.25.2
aiohttp==3.9.1
beautifulsoup4==4.12.2
lxml==4.9.3
feedparser==6.0.10
playwright==1.40.0  # For dynamic content

# Email - Development (Free tiers)
python-dotenv==1.0.0
jinja2==3.1.2
# For production: boto3==1.34.10  # AWS SES

# Security
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
bcrypt==4.0.1  # Pin to 4.x for passlib compatibility (ChromaDB installs 5.x which breaks passlib)
python-multipart==0.0.6

# Utilities
pyyaml==6.0.1
pytz==2023.3
dateparser==1.2.0
python-slugify==8.0.1

# Monitoring & Logging
structlog==23.2.0
sentry-sdk[fastapi]==1.38.0

# Testing
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
faker==20.1.0
websockets==12.0  # For WebSocket testing

# Development Tools
black==23.12.0
ruff==0.1.8
mypy==1.7.1
pre-commit==3.6.0
ipython==8.18.1  # For debugging
gunicorn==21.2.0  # Production WSGI server for App Service

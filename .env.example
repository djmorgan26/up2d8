# UP2D8 Monorepo Environment Configuration
# Copy this file to .env and fill in your actual values
#
# IMPORTANT: In production (Azure), secrets are fetched from Key Vault via Managed Identity
# In local development, you can either:
#   1. Use Azure CLI authentication to fetch from Key Vault
#   2. Or set secret values directly here for local testing

# ============================================
# Azure Key Vault Configuration
# ============================================

# Azure Key Vault Details (for runtime secret retrieval)
KEY_VAULT_URI=https://personal-key-vault1.vault.azure.net/
AZURE_KEY_VAULT_NAME=personal-key-vault1
AZURE_KEY_VAULT_RESOURCE_ID=/subscriptions/90d7fd42-6dc4-41e8-808e-b4a1e63b5a8e/resourceGroups/personal-rg/providers/Microsoft.KeyVault/vaults/personal-key-vault1

# Azure Key Vault Secret Names (application fetches values at runtime)
# Leave these empty - they're just references to secret names in Key Vault
COSMOS_DB_CONNECTION_STRING_UP2D8=
UP2D8_GEMINI_API_KEY=
GOOGLE_CUSTOM_SEARCH_API=
UP2D8_SMTP_KEY=
UP2D8_STORAGE_CONNECTION_STRING=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# Azure Resource Identifiers
# ============================================

# Subscription
AZURE_SUBSCRIPTION_ID=90d7fd42-6dc4-41e8-808e-b4a1e63b5a8e
AZURE_SUBSCRIPTION_NAME=Azure Personal Subscription
AZURE_RESOURCE_GROUP_NAME=personal-rg

# Managed Identity (for Key Vault access in production)
AZURE_SYSTEM_ASSIGNED_MANAGED_IDENTITY_ID=3be3ee73-9b0b-424c-848d-be1bfb4d6c2b

# ============================================
# Azure Backend API (App Service)
# ============================================

AZURE_BACKEND_APP_NAME=up2d8
AZURE_BACKEND_APP_URL=https://up2d8.azurewebsites.net
AZURE_BACKEND_RESOURCE_ID=/subscriptions/90d7fd42-6dc4-41e8-808e-b4a1e63b5a8e/resourceGroups/personal-rg/providers/Microsoft.Web/sites/up2d8
GITHUB_REPO_URL_BACKEND=https://github.com/djmorgan26/UP2D8-BACKEND.git
AZURE_APP_SERVICE_PLAN_BACKEND=ASP-personalrg-97fb

# Backend API Configuration (local development)
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# ============================================
# Azure Functions
# ============================================

AZURE_FUNCTION_APP_NAME=up2d8-function-app
AZURE_FUNCTION_APP_URL=https://up2d8-function-app.azurewebsites.net/
AZURE_FUNCTION_APP_RESOURCE_ID=/subscriptions/90d7fd42-6dc4-41e8-808e-b4a1e63b5a8e/resourceGroups/personal-rg/providers/Microsoft.Web/sites/up2d8-function-app
GITHUB_REPO_URL_FUNCTION=https://github.com/djmorgan26/UP2D8-Function.git
AZURE_APP_SERVICE_PLAN_FUNCTION=ASP-personalrg-bca8

# Azure Functions Storage (for local development with Azurite)
AzureWebJobsStorage=UseDevelopmentStorage=true

# Backend API URL (for Functions to call Backend)
BACKEND_API_URL=https://up2d8.azurewebsites.net

# ============================================
# Azure Frontend (Static Web App)
# ============================================

AZURE_FRONTEND_APP_NAME=up2d8-web
AZURE_FRONTEND_APP_URL=https://gray-wave-00bdfc60f.3.azurestaticapps.net
AZURE_FRONTEND_RESOURCE_ID=/subscriptions/90d7fd42-6dc4-41e8-808e-b4a1e63b5a8e/resourceGroups/personal-rg/providers/Microsoft.Web/staticSites/up2d8-web
GITHUB_REPO_URL_FRONTEND=https://github.com/djmorgan26/up2d8-frontend.git

# ============================================
# Azure Cosmos DB (MongoDB API)
# ============================================

AZURE_COSMOS_DB_ACCOUNT_NAME=up2d8cluster
MONGODB_DATABASE=up2d8

# For local development, you can set the connection string directly:
# MONGODB_CONNECTION_STRING=mongodb://localhost:27017/
# In production, this is fetched from Key Vault as COSMOS_DB_CONNECTION_STRING_UP2D8

# ============================================
# Azure Storage Account
# ============================================

AZURE_STORAGE_ACCOUNT_NAME=personalrg8fab

# ============================================
# Email Configuration (Brevo/Sendinblue SMTP)
# ============================================

# Brevo SMTP Configuration (non-secret values)
BREVO_SMTP_HOST=smtp-relay.brevo.com
BREVO_SMTP_PORT=587
BREVO_SMTP_USER=9a9964001@smtp-brevo.com
SENDER_EMAIL=davidjmorgan26@gmail.com

# SMTP API Key is fetched from Key Vault as UP2D8_SMTP_KEY
# For local development, set it here:
# SENDGRID_API_KEY=your-brevo-api-key

# ============================================
# Google Services
# ============================================

# Google Custom Search Engine
GOOGLE_CSE_ID=7694aeee6b7b549d7
GOOGLE_CSE_PUBLIC_URL=https://cse.google.com/cse/publicurl?cx=7694aeee6b7b549d7

# Google CSE Configuration
MAX_TOP_REFINEMENTS=All
PROMOTIONS=none
KEYWORDS=none
QUERY_ADDITIONS=none
WEB_SEARCH_EXTRA_QUERY_TERMS=none
UPLOAD_DOWNLOAD_SYNONYMS_IN_XML_FILES=none
ENABLE_AUTOCOMPLETE=yes
INCLUDE_AUTOCOMPLETIONS_FROM_THE_ENTIRE_WEB=yes
CUSTOM_AUTOCOMPLETIONS=none
AUTOCOMPLETIONS_TO_EXCLUDE=none
UPLOAD_DOWNLOAD_AUTOCOMPLETIONS_IN_XML_FILES=none
PAGE_RESTRICTIONS=none
RESULT_SORTING=default
WEB_SEARCH_SETTINGS=default
WEB_SEARCH_RESTRICTS=default

# Google API Key is fetched from Key Vault as GOOGLE_CUSTOM_SEARCH_API
# Google OAuth credentials fetched as GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET

# ============================================
# Mobile App Configuration
# ============================================

# Backend API endpoint (mobile app)
REACT_APP_API_URL=https://up2d8.azurewebsites.net/api

# For local development:
# REACT_APP_API_URL=http://localhost:8000/api

# Feature flags
REACT_APP_ENABLE_OFFLINE_MODE=true
REACT_APP_ENABLE_ANALYTICS=false

# ============================================
# Development Tools
# ============================================

# Environment
NODE_ENV=development
PYTHON_ENV=development

# Logging
LOG_LEVEL=debug

# ============================================
# Local Development Secrets (Optional)
# ============================================

# For local development, you can set these directly instead of using Key Vault:
# GEMINI_API_KEY=your-gemini-api-key-here
# MONGODB_CONNECTION_STRING=mongodb://localhost:27017/
# SENDGRID_API_KEY=your-brevo-smtp-api-key

# ============================================
# Security Notes
# ============================================

# PRODUCTION (Azure):
#   - All secrets fetched from Key Vault via Managed Identity
#   - No secrets stored in environment variables
#   - Application uses KEY_VAULT_URI to fetch secrets at runtime
#
# LOCAL DEVELOPMENT:
#   - Option 1: Use Azure CLI auth (az login) to fetch from Key Vault
#   - Option 2: Set secrets directly in .env for testing
#   - NEVER commit .env file with actual secrets!
